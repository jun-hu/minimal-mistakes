---
layout: posts
title: chapter7. Patch, Upgrade, Remove
date: 2019-01-30 10:18:36 +0900
type: posts
published: true
comments: true
categories: [se]
tags: [System, Server]
---

* 학습목표
    * 시스템 변경사항을 테스트하기 위한 샌드박스 환경 만들기
    * 패치 적용 시 발생하는 일반적인 문제의 처리 방법
    * 운영체제의 업그레이드 관리
    * 하드웨어의 업그레이드 관리
    * 펌웨어의 업그레이드 관리
    * 유닉스 네트워크의 서비스를 종결시키기 위한 모범방안

1. **샌드박스 환경에서 사전 구현 테스트**: 실제로 적용하기 전에 면밀히 테스트할 수 있는 샌드박스 환경을 만들어 테스트한다.
2. **운영체제 패치**: 다양한 이유로 패치가 이루어지는데 관리자는 그런 패치를 신중하게 적용할 필요가 있다.
    1. 운영체제 패치의 모범 방안:
        1. 벤더의 문서를 따른다.
        2. 패치에 대한 온라인 상의 조언과 README를 조사한다.
        3. 단일 사용자 모드에서 패치한다.
        4. 철회 가능하게 한다.
        5. 풀 백업한다.
        6. 시스템의 콘솔을 사용한다.
        7. 패치를 거친후 테스트한다.
        8. 부분으로 나눠서 패치한다.
    2. 패치 애플리케이션의 실패 해결: 패치 애플리케이션의 실패를 겪게 된다면, 제일 먼저 시스템에 나타나는 에러 메시지를 조사하고 고쳐나간다. 일반적인 에러사항: 불춘분한 공간, 교체될 파일 잠김, 패치하고 있는 소프트웨어가 설치되지 않음, 패치될 파일이 없다.
    3. 운영체제 재설치: 중요 디스크 백업, 설정 파일 백업(/etc), 재설치될 어플리케이션 리스트화, RAID설정
    4. 패치 후 재부팅 실패시 복구: 패치가 잘되도 재부팅 후 충돌이 일어날 수 있다. 일반적인 원인은 패치가 중요 설정파일을 덮어쓴 것이다.
    5. 버그 트레이딩: 어떤 버그에 대한 패치가 또 다른 버그를 가져올 수 있다.
    6. 패치 철회: 패치가 그 값어치보다 문제가 더 많다면 철회할 수 있다.
3. **하드웨어 업그레이드**: 하드웨어 업그레이드를 하기 위해서는 신중한 선행 계획이 필요하며, 다음과 같은 것을 확실하게 해야한다.
    1. 업그레이드가 다른 나머지 시스템 HW,SW와의 호환성: 벤더인증, 케이블, 확장카드 호환성 검사, 테스트, 벤더 문의
    2. 새로운 하드웨어가 시스템 성능 표준을 충족하는 지: 기존 RAID설정 수용, 현재 네트워크 용량에 적합한지
    3. 사용자를 새로운 하드웨어로 이전 시키는 데 필요한 절차 확립: 여분의 하드웨어를 이용, 핫스왑핑
4. **운영체제 업그레이드**: 패치와는 달리 운영체제의 업그레이드는 전체 운영체제를 업그레이드하는 것이다. 운영체제 업그레이드 과정에서 발생할 수 있는 일반적인 문제는 다음과 같다.
    1. 업그레이드 또는 새로 설치할지 결정
    2. 공유 라이브러리의 비호환성 문제 해결: /usr/lib, /lib 그외 등등의 많은 공유 라이브러리는 항상 운영체제의 릴리즈와 함께 변경되므로 업그레이드하기전에 테스트를 거치고 이전 라이브러리가 필요하다 하면 따로 저장해 경로를 지정해준다.
    3. 기존 설정 파일 변경 문제 해결: 업그레이드시 설정파일 겹쳐쓰일 수 있음.
    4. 업그레이드에 필요한 충분한 여유공간 확보
    5. 업그레이드할 운영체제의 하드웨어 드라이버 지원 여부 확인
5. **펌웨어 업그레이드**: 펌웨어는 중요 하드웨어의 기능을 소프트웨어로 코드화할 수 있게 함으로써 반복되는 하드웨어 업그레이드의 필요성을 제거한다.
6. **서비스 제거**: 곧 제거될 서비스의 사용자를 파악하고 그들에게 미리 공지함으로써 성공적으로 전환을 하는데 도움이 되도록 한다.
